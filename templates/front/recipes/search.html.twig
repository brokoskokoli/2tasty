{% extends 'front/layout.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('build/js/search.js') }}"></script>
{% endblock %}

{% block body_id 'recipes_search' %}

{% block main %}
    <form action="{{ path('recipes_search') }}" method="get">
        <div class="form-group">
            <input name="q"
                   class="form-control search-field"
                   placeholder="{{ 'recipe.search_for'|trans }}"
                   autocomplete="off"
                   autofocus
                   data-no-results-message="{{ 'recipe.search_no_results'|trans }}"
            >
        </div>
    </form>

    <div id="results">
        {% for result in results %}
            <article class="post">
                <h2><a href="{{ result.url }}">{{ result.title }}</a></h2>
                <p class="post-metadata">
                    <span class="metadata"><i class="fa fa-calendar"></i> {{ result.date }}</span>
                    <span class="metadata"><i class="fa fa-user"></i> {{ result.author }}</span>
                </p>
                <p>{{ result.summary }}</p>
            </article>
        {% endfor %}
    </div>
{% endblock %}

{% block sidebar %}
    {{ parent() }}
{% endblock %}
